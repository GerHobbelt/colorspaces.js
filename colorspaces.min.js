// Generated by CoffeeScript 1.3.1
(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;i=[[3.2406,-1.5372,-0.4986],[-0.9689,1.8758,.0415],[.0557,-0.204,1.057]],j=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],k=function(a,b){var c,d,e,f,g,h,j,k,l,m,n,o,p,q,r,s,t,u,v;e=b/360*2*Math.PI,o=Math.sin(e),d=Math.cos(e),p=Math.pow(a+16,3)/1560896,q=p>.008856?p:10*a/9033,n=Infinity,u=[0,1,2];for(s=0,t=u.length;s<t;s++)f=u[s],v=i[f],h=v[0],j=v[1],k=v[2],r=(.9991*h+1.0512*j+1.1446*k)*a,l=(.8633*k-.1727*j)*o,g=(.1295*k-.3885*h)*d,c=l+g,m=r/c,m>0&&(n=Math.min(m,n)),m=(r*q-1.051*a)/(c*q+1.7266*o),m>0&&(n=Math.min(m,n));return n},c=function(a,b){var c,d,e,f;d=0;for(c=e=0,f=a.length-1;0<=f?e<=f:e>=f;c=0<=f?++e:--e)d+=a[c]*b[c];return d},s=function(a,b){return i=Math.pow(10,b),Math.round(a*i)/i},x=function(a,b){var c,d,e,f;a=function(){var b,c,e;e=[];for(b=0,c=a.length;b<c;b++)d=a[b],e.push(s(d,3));return e}();for(c=e=0,f=a.length-1;0<=f?e<=f:e>=f;c=0<=f?++e:--e)if(a[c]<b[c][0]||a[c]>b[c][1])return!1;return!0},o=.95047,p=1,q=1.08883,m=4*o/(o+15*p+3*q),n=9*p/(o+15*p+3*q),g=.008856,h=903.3,d=function(a){return a>g?Math.pow(a,1/3):7.787*a+16/116},e=function(a){return Math.pow(a,3)>g?Math.pow(a,3):(116*a-16)/h},f=function(a){return a<=.0031308?12.92*a:1.055*Math.pow(a,1/2.4)-.055},w=function(a){var b;return b=.055,a>.04045?Math.pow((a+b)/(1+b),2.4):a/12.92},a={CIEXYZ:{},CIExyY:{},CIELAB:{},CIELCH:{},CIELUV:{},CIELCHuv:{},LSH:{},sRGB:{},hex:{}},a.CIEXYZ.sRGB=function(a){var b,d,e;return e=f(c(i[0],a)),d=f(c(i[1],a)),b=f(c(i[2],a)),[e,d,b]},a.sRGB.CIEXYZ=function(a){var b,d,e,f,g,h,i;return f=a[0],e=a[1],d=a[2],b=[w(f),w(e),w(d)],g=c(j[0],b),h=c(j[1],b),i=c(j[2],b),[g,h,i]},a.CIEXYZ.CIExyY=function(a){var b,c,d,e;return c=a[0],d=a[1],e=a[2],b=c+d+e,b===0?[0,0,d]:[c/b,d/b,d]},a.CIExyY.CIEXYZ=function(a){var b,c,d,e,f;return e=a[0],f=a[1],c=a[2],f===0?[0,0,0]:(b=e*c/f,d=(1-e-f)*c/f,[b,c,d])},a.CIEXYZ.CIELAB=function(a){var b,c,e,f,g,h,i,j,k;return g=a[0],h=a[1],i=a[2],b=d(g/o),c=d(h/p),e=d(i/q),f=116*c-16,j=500*(b-c),k=200*(c-e),[f,j,k]},a.CIELAB.CIEXYZ=function(a){var b,c,d,f,g,h,i,j,k;return f=a[0],j=a[1],k=a[2],c=(f+16)/116,d=c-k/200,b=j/500+c,g=o*e(b),h=p*e(c),i=q*e(d),[g,h,i]},a.CIEXYZ.CIELUV=function(a){var b,c,e,f,g,h,i,j;return h=a[0],i=a[1],j=a[2],b=4*h/(h+15*i+3*j),c=9*i/(h+15*i+3*j),e=116*d(i/p)-16,e===0?[0,0,0]:(f=13*e*(b-m),g=13*e*(c-n),[e,f,g])},a.CIELUV.CIEXYZ=function(a){var b,c,d,f,g,h,i,j,k;return f=a[0],g=a[1],h=a[2],f===0?[0,0,0]:(d=e((f+16)/116),b=g/(13*f)+m,c=h/(13*f)+n,j=d*p,i=0-9*j*b/((b-4)*c-b*c),k=(9*j-15*c*j-c*i)/(3*c),[i,j,k])},u=function(a){var b,c,d,e,f,g;return e=a[0],b=a[1],c=a[2],d=Math.pow(Math.pow(b,2)+Math.pow(c,2),.5),g=Math.atan2(c,b),f=g*360/2/Math.PI,f<0&&(f=360+f),[e,d,f]},a.CIELAB.CIELCH=u,a.CIELUV.CIELCHuv=u,l=function(a){var b,c,d,e,f,g;return e=a[0],d=a[1],f=a[2],g=f/360*2*Math.PI,b=Math.cos(g)*d,c=Math.sin(g)*d,[e,b,c]},a.CIELCH.CIELAB=l,a.CIELCHuv.CIELUV=l,a.LSH.CIELCHuv=function(a){var b,c,d,e,f;return d=a[0],e=a[1],f=a[2],b=k(d,f),c=b/100*e,[d,c,f]},a.CIELCHuv.LSH=function(a){var b,c,d,e,f;return d=a[0],c=a[1],f=a[2],b=k(d,f),e=c/b*100,[d,e,f]},t=function(a){var b,c,d,e,f,g,h;a=function(){var b,d,e;e=[];for(b=0,d=a.length;b<d;b++)c=a[b],e.push(s(c,3));return e}();for(d=0,f=a.length;d<f;d++){b=a[d];if(b<0||b>1)throw new Error("Illegal sRGB value")}h=[];for(e=0,g=a.length;e<g;e++)b=a[e],h.push(Math.round(b*255));return h},a.sRGB.hex=function(a){var b,c,d,e;c="#",a=t(a);for(d=0,e=a.length;d<e;d++)b=a[d],b=b.toString(16),b.length===1&&(b="0"+b),c+=b;return c},a.hex.sRGB=function(a){var b,c,d;return a.charAt(0)==="#"&&(a=a.substring(1,7)),d=a.substring(0,2),c=a.substring(2,4),b=a.substring(4,6),[d,c,b].map(function(a){return parseInt(a,16)/255})},b=function(b,c){var d,e,f;return f=[["CIELCH","CIELAB"],["LSH","CIELCHuv"],["CIELCHuv","CIELUV"],["hex","sRGB"],["CIExyY","CIEXYZ"],["CIELAB","CIEXYZ"],["CIELUV","CIEXYZ"],["sRGB","CIEXYZ"]],e=function(b,c,d){var f,g,h,i;return c===d?function(a){return a}:(i=b[0],f=i[0],h=i[1],c===f?(g=e(b.slice(1),h,d),function(b){return g(a[f][h](b))}):d===f?(g=e(b.slice(1),c,h),function(b){return a[h][f](g(b))}):(g=e(b.slice(1),c,d),g))},d=e(f,b,c),d},r={};try{v=require("stylus"),r=function(){var c,d;return d=function(){var b;b=[];for(c in a)c!=="sRGB"&&c!=="hex"&&b.push(c);return b}(),function(a){var c,e,f,g;g=[];for(e=0,f=d.length;e<f;e++)c=d[e],g.push(a.define(c,function(a){return function(c,d,e){var f,g,h,i;return f=b(a,"sRGB"),i=t(f([c.val,d.val,e.val])),h=i[0],g=i[1],d=i[2],new v.nodes.RGBA(h,g,d,1)}}(c)));return g}}}catch(y){}r.converter=b,r.make_color=function(a,c){return{as:function(d){var e;return e=b(a,d)(c),e},is_displayable:function(){var d;return d=b(a,"sRGB")(c),x(d,[[0,1],[0,1],[0,1]])},is_visible:function(){var d;return d=b(a,"CIEXYZ")(c),x(d,[[0,o],[0,p],[0,q]])}}},typeof module!="undefined"&&module!==null&&(module.exports=r),typeof jQuery!="undefined"&&jQuery!==null&&(jQuery.colorspaces=r)}).call(this);
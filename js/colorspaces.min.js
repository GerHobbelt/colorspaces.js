(function(){var a,b,c,d,e,f,g,h,i=Array.prototype.slice;d=function(a,b){var c,d,e;d=0;for(c=0,e=a.length-1;0>e?c>=e:c<=e;0>e?c--:c++)d+=a[c]*b[c];return d},h=[.95047,1,1.08883],e=.008856,f=903.3,a=function(a){return a<0&&(a=0),a>1&&(a=1),a},c={from_CIEXYZ:{to_hex:function(){var a,b,d,e;return b=1>arguments.length?[]:i.call(arguments,0),a=(d=c.from_CIEXYZ).to_sRGB.apply(d,b),(e=c.from_sRGB).to_hex.apply(e,a)},to_sRGB:function(){var b,c,e,f,g,h;return e=1>arguments.length?[]:i.call(arguments,0),c=[[3.2406,-1.5372,-0.4986],[-0.9689,1.8758,.0415],[.0557,-0.204,1.057]],b=function(a){var b;return b=.055,a>.0031308?1.055*Math.pow(a,1/2.4)-.055:12.92*a},h=a(b(d(c[0],e))),g=a(b(d(c[1],e))),f=a(b(d(c[2],e))),[h,g,f]},to_CIExyY:function(a,b,c){var d;return d=a+b+c,d===0?[0,0,b]:[a/d,b/d,b]},to_CIELAB:function(a,b,c){var d,f,g,i,j,k,l;return d=function(a){return a>e?Math.pow(a,1/3):7.787*a+16/116},f=d(a/h[0]),g=d(b/h[1]),i=d(c/h[2]),j=116*g-16,k=500*(f-g),l=200*(g-i),[j,k,l]},to_CIELCH:function(){var a,b,d,e;return b=1>arguments.length?[]:i.call(arguments,0),a=(d=c.from_CIEXYZ).to_CIELAB.apply(d,b),(e=c.from_CIELAB).to_CIELCH.apply(e,a)},to_CIEXYZ:function(){var a;return a=1>arguments.length?[]:i.call(arguments,0),a}},from_sRGB:{to_CIEXYZ:function(a,b,c){var e,f,g,h,i,j;return g=function(a){var b;return b=.055,a>.04045?Math.pow((a+b)/(1+b),2.4):a/12.92},e=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],f=[g(a),g(b),g(c)],h=d(e[0],f),i=d(e[1],f),j=d(e[2],f),[h,i,j]},to_hex:function(){var a,b,c,d,e;c=1>arguments.length?[]:i.call(arguments,0),b="#";for(d=0,e=c.length;d<e;d++)a=c[d],a=Math.round(a*255).toString(16),a.length===1&&(a="0"+a),b+=a;return b}},from_CIExyY:{to_CIEXYZ:function(a,b,c){var d,e;return b===0?[0,0,0]:(d=a*c/b,e=(1-a-b)*c/b,[d,c,e])}},from_CIELAB:{to_CIEXYZ:function(a,b,c){var d,g,i,j,k,l,m;return i=(a+16)/116,j=i-c/200,g=b/500+i,d=function(a){return Math.pow(a,3)>e?Math.pow(a,3):(116*a-16)/f},k=h[0]*d(g),l=h[1]*d(i),m=h[2]*d(j),[k,l,m]},to_CIELCH:function(a,b,c){var d,e,f;return d=Math.pow(Math.pow(b,2)+Math.pow(c,2),.5),f=Math.atan2(c,b),e=f*360/2/Math.PI,e<0&&(e=360+e),[a,d,e]}},from_CIELCH:{to_CIELAB:function(a,b,c){var d,e,f;return f=c/360*2*Math.PI,d=Math.cos(f)*b,e=Math.sin(f)*b,[a,d,e]},to_CIEXYZ:function(){var a,b,d,e;return b=1>arguments.length?[]:i.call(arguments,0),a=(d=c.from_CIELCH).to_CIELAB.apply(d,b),(e=c.from_CIELAB).to_CIEXYZ.apply(e,a)}},from_hex:{to_sRGB:function(a){var b,c,d;return a.charAt(0)==="#"&&(a=a.substring(1,7)),d=a.substring(0,2),c=a.substring(2,4),b=a.substring(4,6),[d,c,b].map(function(a){return parseInt(a,16)/255})},to_CIEXYZ:function(a){var b,d;return b=c.from_hex.to_sRGB(a),(d=c.from_sRGB).to_CIEXYZ.apply(d,b)}}},g=typeof exports!="undefined"&&exports!==null?exports:{},g.make_color=function(a,b){var d,e;return a==="hex"&&(b=[b]),d=(e=c["from_"+a]).to_CIEXYZ.apply(e,b),{as:function(a){var b;return(b=c.from_CIEXYZ)["to_"+a].apply(b,d)}}},typeof jQuery!="undefined"&&jQuery!==null&&(jQuery.colorspaces=g),b=g.make_color("CIELCH",[50,80,0]),console.log(b.as("sRGB")),"for i in [0..11]\n  h = i * 30\n  color = root.make_color 'CIELCH', [47.030, 78.489, h]\n  console.log color.as('hex')"}).call(this)